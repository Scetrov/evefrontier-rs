[hooks]
pre-commit = """
set -e
echo "üîç Running pre-commit checks (mirroring CI)..."
echo ""

# 1. Format check
echo "1Ô∏è‚É£  Checking code formatting..."
cargo fmt --all -- --check || {
    echo "‚ùå Format check failed. Run: cargo fmt --all"
    exit 1
}
echo "   ‚úÖ Format OK"
echo ""

# 2. Clippy
echo "2Ô∏è‚É£  Running clippy..."
cargo clippy --workspace --all-targets -- -D warnings || {
    echo "‚ùå Clippy failed. Fix warnings above."
    exit 1
}
echo "   ‚úÖ Clippy OK"
echo ""

# 3. Build
echo "3Ô∏è‚É£  Building workspace..."
cargo build --workspace --all-targets || {
    echo "‚ùå Build failed"
    exit 1
}
echo "   ‚úÖ Build OK"
echo ""

# 4. Tests
echo "4Ô∏è‚É£  Running tests..."
cargo test --workspace || {
    echo "‚ùå Tests failed"
    exit 1
}
echo "   ‚úÖ Tests OK"
echo ""

echo "‚úÖ All pre-commit checks passed!"
"""

[logging]
verbose = true
